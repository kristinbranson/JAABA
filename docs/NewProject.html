<!DOCTYPE html>
<html>
<head>
<style type="text/css">
table {
background-color:yellow;border:1px dotted black;width:80%;border-collapse:collapse;
}
table, td
{
padding:3px;
}
table, th{
padding:3px; background-color:orange;color:white;
}
table, tr
{
padding:3px; background-color:yellow;color:black;

}
</style>
</head>
</body>
<center><h1> Creating a new JAABA Project </h1></center>

<p>For each behavior, you need a separate JAABA project. To add a new project,
	click on the '+' sign below the projects list in the initial JAABA edit
	project and experiments interface. </p>
	
	<center><img src="images/EditFilesInitial.png"></center>
	
<p>	This will pop up a dialog box, where you
	can enter  the name of the project and the configuration file to store the
	project settings. The projects configurations are stored in xml format. An
	example xml project configuration file at the bottom of the page. </p> 

	<center><img src="images/NewProject.png"></center>

<p>The project configuration in the form of xml entries are shown in a table on the
right of the project list which can also be edited. The left column of the table
lists all the project parameters and right side gives the parameters value. The
project parameters are organized in an heirarchy and the parameter's name gives
its complete heirarchy. For example, the heirarchy of parameter
"file.moviefilename" if file-> moviefilename. The following table gives the
details of all the parameters.To add/remove parameters click on the "+/-"
buttons below the table.</p>

<br><br>

<table border=1>
<tr> <th>Parameter Name</th><th>Typical Value</th><th>Details</th> </tr>
<tr> <td>targets.type</td><td >fly</td><td>Type of animal</td> </tr>
<tr> <td>behavior.names</td><td >Chase</td><td>Name of the behavior</td> </tr>
<tr> <td>behavior.labelcolors</td><td> 0.7,0,0,0,0,0.7</td><td>Colors that
will be used by JAABA to show the behavior and not-behavior. The first three
numbers is the color in rgb to show behavior (red in this case) and the next
three numbers is the color to show not-behavior</td> </tr>


<tr> <td>file.moviefilename</td><td >movie.ufmf</td><td>Name of the movie
file for each experiment. For each experiment, the movie name should be the same</td> </tr>

<tr> <td>file.trxfilename</td><td >trx.mat</td><td>Name of the mat file
in which the tracks are stored. For each experiment, the name should be the same</td> </tr>

<tr> <td>file.perframedir</td><td
>perframe</td><td>Directory (within
		the experiments directory) where the perframe features are stored.</td> </tr>

<tr> <td>file.labelfilename</td><td
>labeledChases.mat</td><td>File within the experiment directory
where the labels for this project  will be stored.</td> </tr>

<tr> <td>file.gt_labelfilename</td><td
>labeledChases_gt.mat</td><td>File within the experiment directory
where the <a href=GettingStarted.html">ground truthing</a> labels for this project  will be stored.</td> </tr>

<tr> <td>file.scorefilename</td><td
>scoresChase.mat</td><td>File within the experiment directory
where the output predictions for this project  will be stored.</td> </tr>

<tr> <td>file.featureparamfilename</td><td
>WindowFeatures.xml</td><td>XML file
where the settings for computing the window features are stored <a href="WindowFeatureComputation.html"> here</a>  </td> </tr>

<tr> <td>file.featureconfigfile</td><td
>featureConfig.xml</td><td>XML file
which lists all the perframe features that are defined for the current
environment. More details <a href="WindowFeatureComputation.html"> here</a>  </td> </tr>

<tr> <td>plot.trx.colormap</td><td>jet</td><td></td> </tr>
<tr> <td>plot.trx.colormap_multiplier</td><td>0.7</td><td></td> </tr>
<tr> <td>plot.labels.colormap</td><td>line</td><td></td> </tr>
<tr> <td>plot.labels.linewidth</td><td>3</td><td></td> </tr>

<tr> <td>perframe.params</td><td></td><td>Params used while computing
per-frame features from the trajectories.</td> </tr>
<tr> <td>perframe.params.fov</td><td>3.1416</td><td> Angle of the field of view of the animal
in radians. Used for computing social per-frame features for flies.</td> </tr>
<tr> <td>perframe.params.max_dnose2ell_anglerange</td><td>127</td><td></td> </tr>
<tr> <td>perframe.params.nbodylengths_near</td><td>2.5</td><td></td> </tr>
<tr> <td>perframe.params.thetafil</td><td>0.0625,0.25,0.375,0.25,0.0625</td><td></td> </tr>
<tr> <td>perframe.landmark_params.arena_type</td><td>circle</td><td>Type of the
arena.</td></tr>
<tr> <td>perframe.landmark_params.arena_center_mm_x</td><td>0</td><td>X coordinate of
the center of the arena</td> </tr>
<tr> <td>perframe.landmark_params.arena_center_mm_y</td><td>0</td><td>Y coordinate of
the center of the arena</td> </tr>
<tr> <td>perframe.landmark_params.arena_radius_mm</td><td>60</td><td> Radius of the arena</td> </tr>

</table>

<p> When creating a new project, you can copy parameters of an existing
project. In the popup dialog that asks for the new project's name and the
location of the project's configuration file, you can point to the location of
the configuration file of the existing project in the "Copy Configuration
settings from" field.
</p>

<h3> Example Files </h3>

Example project configuration file:

<pre>
&lt?xml version="1.0" encoding="utf-8"?&gt
&ltparams&gt
   &lttargets type="fly"/&gt
   &ltbehaviors labelcolors="0.7,0,0,0,0,0.7" names="Chase" unknowncolor="0,0,0"/&gt
   &ltfile featureconfigfile="params/featureConfig.xml"
   featureparamfilename="params/WindowFeatures_Chase.xml"
   gt_labelfilename="labeledChases_gt.mat" labelfilename="labeledChases.mat"
   moviefilename="movie.ufmf" perframedir="perframe" 
   scorefilename="scores_Chase.mat" trxfilename="registered_trx.mat"
   /&gt
   &ltplot&gt
      &lttrx colormap="jet" colormap_multiplier="0.7"/&gt
      &ltlabels colormap="line" linewidth="3"/&gt
   &lt/plot&gt
   &ltperframe&gt
      &ltparams fov="3.1416" nbodylengths_near="2.5" thetafil="0.0625,0.25,0.375,0.25,0.0625" max_dnose2ell_anglerange="127"/&gt
   &lt/perframe&gt
   &ltlandmark_params&gt
      &ltarena_center_mm_x="0" arena_center_mm_y="0" arena_radius_mm="60"
	  arena_type="circle"/&gt
   &lt/perframe&gt

&lt/params&gt

</pre>
</body>
</html>
